<div class="summary">
  <app-tile-grid fit="true">
    <app-tile-group *ngIf="isBrokerAvailable$ | async; else noBrokerTile">
      <app-tile>
        <app-service-summary-card></app-service-summary-card>
      </app-tile>
      <app-tile>
        <app-service-broker-card></app-service-broker-card>
      </app-tile>
    </app-tile-group>
    <ng-template #noBrokerTile>
      <app-tile-group>
        <app-tile>
          <app-service-summary-card></app-service-summary-card>
        </app-tile>
      </app-tile-group>
    </ng-template>
    <app-tile-group>
      <app-tile>
        <app-card-number-metric [link]="serviceInstancesLink" icon="service_instance" iconFont="stratos-icons" label="Instances" labelSingular="Instance" value="{{ (instances$ | async)?.length }}"></app-card-number-metric>
      </app-tile>
      <app-tile>
        <app-card-number-metric [link]="servicePlansLink" icon="service_plan" iconFont="stratos-icons" label="Service Plans" labelSingular="Service Plan" value="{{ ( servicePlans$ | async)?.length }}"></app-card-number-metric>
      </app-tile>
    </app-tile-group>
    <app-tile-group>
      <app-tile>
        <app-service-recent-instances-card></app-service-recent-instances-card>
      </app-tile>
    </app-tile-group>
  </app-tile-grid>
</div>
